<div class="container">
    <h1 class="mb-5">Proyectos a los que aplicaste</h1>
    <% @applications.each do |application| %>
        <%= link_to (application.status == "accepted" ? project_path(application.project) : "") do %>
      <div class="application-card rounded shadow mb-2" style="width: 600px;">
        <div class="d-flex px-3 pt-3 pb-1">
          <img src="https://picsum.photos/80/80" alt="" class="flex-grow-0 rounded-circle">
          <div class="flex-grow-1 ml-3">
            <h2 class="h4 m-0"><%= application.project.name %></h2>
            <p class="m-0 text-muted"><%= application.project.description %></p>
          </div>
          <div class="flex-grow-0">
            <div class="d-flex align-items-center mx-3 bg-warning rounded text-white py-1 px-3"><i class="fas fa-heart text-danger"></i><p class="m-0 ml-1 h6">SPONSORED</p>
            </div>
          </div>
        </div>
        <div class="d-flex p-3 pt-0 justify-content-between">
          <div class="d-flex flex-column pr-3">
            <h3 class="h5 m-0 flex-grow-0 mb-2">Rol aplicado</h3>
            <div class="flex-grow-1 mb-2">
            <%= application.role.name %>
            </div>
            <h4 class="h6 m-0 flex-grow-0 mb-2">Status</h4>
            <div class="flex-grow-1">
              <% case application.status %>
              <% when "pending response from applicant" %>
              <p style="color: #E59500; font-weight: bolder"><%= application.project.name %> is waiting your response</p>
              <%= link_to "Accept", accept_path(application), method: :put, class:"btn btn-success" %>
              <%= link_to "Decline", decline_path(application), method: :put, class:"btn btn-danger" %>
              <p style="color: green; font-weight: bolder">Status: Your application has been Accepted</p>
              <% when "declined by owner" %>
              <p style="color: red; font-weight: bolder">Status: Your application has been Declined</p>
              <% end %>
              <% case application.status %>
              <% when "pending" %>
              <p style="color: #E59500; font-weight: bolder"> Pending</p>
              <% when "accepted" %>
              <p style="color: green; font-weight: bolder"> Congratiulations! You are part of <%= application.project.name %> team</p>
              <% when "declined by user" %>
              <p style="color: red; font-weight: bolder"> You Declined <%= application.project.name %>'s invitation. </p>
              <% end %>
            </div>
          </div>
          <div class="d-flex flex-column pl-3 w-50">
            <h3 class="h5 m-0 flex-grow-0 mb-2">Tags</h3>
            <div class="d-flex">
              <% application.technologies.each do |tech| %>
              <p class="m-0 d-flex align-items-center mr-2"><i class="fab fa-html5 mr-1 text-warning"></i><%= tech %></p>
              <% end %>
            </div>
            <h3 class="h6 m-0 flex-grow-0 d-flex align-items-center my-2">Contributors <small class="ml-1 rounded-circle py-1 px-2 bg-danger text-white">3</small></h3>
            <div class="d-flex align-items-center">
            <a href="http://www.<%= application.project.link_1 %>">
            <p class="text-center text-warning flex-grow-0 align-items-center m-0 w-100 mx-auto bg-primary rounded text-white py-1 px-3 mt-2">Link del Proyecto</p>
            </a>
            </div>
          </div>
        </div>
      </div>
      <% end %>
    <% end %>
  </div>
